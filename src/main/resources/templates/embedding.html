<!doctype html>
<html lang="en" class="bg-[#f5f7fa]">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link th:href="@{/output.css}" rel="stylesheet">
</head>
<body class="p-5 font-pretendard">
<div class="max-w-[1200px] mx-auto bg-white p-[30px] rounded-[8px] shadow-[0_2px_4px_rgba(0,0,0,0.1)] mb-[25px]">
    <header class="text-[#333] pb-[15px] font-bold text-[2rem] flex flex-col gap-[10px]">
        <div class="flex justify-start items-center gap-[10px]">
            <a th:href="@{/admin}"> <img th:src="@{/images/arrow-back.svg}" alt="arrow-back"> </a>
            <h1>🔄 CLIP 임베딩 재구축</h1>
        </div>
        <p class="text-[#666] text-[14px]">
            정상/불량 이미지의 CLIP 임베딩을 재생성하고 FAISS 인덱스를 구축합니다.
        </p>
    </header>
</div>

<div class="max-w-[1200px] mx-auto bg-white p-[30px] rounded-[8px] shadow-[0_2px_4px_rgba(0,0,0,0.1)]">
    <h2 class="text-[18px] mb-[16px] pb-[12px] border-b-[2px] border-b-[#e0e0e0] font-bold">
        인덱스 재구축
    </h2>
    <div class="grid grid-cols-2 gap-5 mb-[30px]">
        <div class="border-2 border-[#e0e0e0] p-5 text-center rounded-[8px]">
            <h3 class="text-[16px] font-bold mb-[12px] text-[#333]">
                ✅ 정상 이미지 인덱스
            </h3>
            <p class="text-[14px] text-[#666] mb-5 leading-[1.6]">
                정상 제품 이미지의 임베딩을 생성합니다.
                <br>
                유사도 검색에 사용됩니다.
            </p>
            <form th:action="@{/admin/embedding/normal}" th:method="post">
                <button type="submit"
                        class="bg-[#1976d2] text-white px-6 py-3 rounded-[6px] font-medium cursor-pointer transition-all
                            duration-300 hover:bg-[#1565c0]">
                    재구축
                </button>
            </form>
        </div>
        <div class="border-2 border-[#e0e0e0] p-5 text-center rounded-[8px]">
            <h3 class="text-[16px] font-bold mb-[12px] text-[#333]">
                ❌ 불량 이미지 인덱스
            </h3>
            <p class="text-[14px] text-[#666] mb-5 leading-[1.6]">
                불량 제품 이미지의 임베딩을 생성합니다.
                <br>
                유사도 검색에 사용됩니다.
            </p>
            <form th:action="@{/admin/embedding/defect}" th:method="post">
                <button type="submit"
                        class="bg-[#1976d2] text-white px-6 py-3 rounded-[6px] font-medium cursor-pointer transition-all
                            duration-300 hover:bg-[#1565c0]">
                    재구축
                </button>
            </form>
        </div>
    </div>
    <div class="flex flex-col w-full">
        <div th:if="${param.normalSuccess}"
             class="self-start mt-6 text-[15px] text-[#1b5e20] font-semibold bg-[#e8f5e9] rounded-[6px] py-3 px-5 border border-[#1de9b6] text-center w-[49%]">
            임베딩 요청이 완료되었습니다. 백그라운드에서 실행됩니다.
        </div>
        <div th:if="${param.defectSuccess}"
             class="self-end mt-6 text-[15px] text-[#1b5e20] font-semibold bg-[#e8f5e9] rounded-[6px] py-3 px-5 border border-[#1de9b6] text-center w-[49%]">
            임베딩 요청이 완료되었습니다. 백그라운드에서 실행됩니다.
        </div>
    </div>
</div>
</body>
</html>